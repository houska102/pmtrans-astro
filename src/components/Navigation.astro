---
import { getCms } from "../service/api"

const navItems = await getCms('/menu-items')

const getNavClasses = (navItem) => navItem.mobileOnly ? 'sm-only' : ''
---

<ul class="nav-links">
  {navItems
  .sort((a, b) => a.order - b.order)
  .map((navItem) => (
     <li>
      <a
        href={navItem.url}
        alt={navItem.title}
        class={getNavClasses(navItem)}
      >{navItem.title}</a>
    </li>
  ))}
</ul>
<div id="menu-backdrop"></div>
<button class="hamburger" aria-label="Toggle navigation">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor">
      <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
    </svg>
</button>